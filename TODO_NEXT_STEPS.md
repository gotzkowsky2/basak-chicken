# μ²΄ν¬λ¦¬μ¤νΈ μ„μ‹ μ €μ¥ κΈ°λ¥ κ°λ° - μ§„ν–‰ μƒν™© λ° λ‹¤μ λ‹¨κ³„

## μ¤λ μ‘μ—…ν• λ‚΄μ© (2024λ…„ 12μ›” 27μΌ)

### 1. λ¬Έμ  μƒν™©
- μ²΄ν¬λ¦¬μ¤νΈ μ‘μ„± μ¤‘ νμ΄μ§€λ¥Ό λ‚κ°€κ±°λ‚ μƒλ΅κ³ μΉ¨ν•λ©΄ μ‘μ„±ν• λ‚΄μ©μ΄ μ‚¬λΌμ§
- μ„μ‹ μ €μ¥ κΈ°λ¥μ΄ μ‘λ™ν•μ§€ μ•μ

### 2. κµ¬ν„ν• κΈ°λ¥λ“¤

#### 2.1 λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μ¶”κ°€
- `ChecklistProgress` λ¨λΈ: μ²΄ν¬λ¦¬μ¤νΈ μ§„ν–‰ μƒνƒ μ €μ¥
- `ConnectedItemProgress` λ¨λΈ: μ—°κ²°λ ν•­λ©λ“¤μ μ§„ν–‰ μƒνƒ μ €μ¥  
- `TimeSlotChecklistStatus` λ¨λΈ: μ‹κ°„λ€λ³„ μ²΄ν¬λ¦¬μ¤νΈ μ κΈ μƒνƒ κ΄€λ¦¬

#### 2.2 API μ—”λ“ν¬μΈνΈ κµ¬ν„
- `/api/employee/checklist-progress` (GET/POST): μ²΄ν¬λ¦¬μ¤νΈ μ§„ν–‰ μƒνƒ μ €μ¥/μ΅°ν
- `/api/employee/timeslot-status` (GET/POST): μ‹κ°„λ€λ³„ μ κΈ μƒνƒ κ΄€λ¦¬

#### 2.3 ν”„λ΅ νΈμ—”λ“ κΈ°λ¥ κµ¬ν„
- μλ™ μ €μ¥ κΈ°λ¥ (μ²΄ν¬λ°•μ¤ λ³€κ²½ μ‹ μ¦‰μ‹ μ €μ¥)
- κΈ°μ΅΄ μ§„ν–‰ μƒνƒ λ¶λ¬μ¤κΈ° κΈ°λ¥
- μ‹κ°„λ€λ³„ μ κΈ μ‹μ¤ν… (ν• λ…λ§ νΈμ§‘ κ°€λ¥)
- μ‘μ„± μ¤‘μΈ μ²΄ν¬λ¦¬μ¤νΈ μ΄μ–΄μ„ μ‘μ„± κΈ°λ¥

### 3. ν„μ¬ λ°μƒν• λ¬Έμ 
- **500 μ—λ¬**: `Cannot read properties of undefined (reading 'findFirst')`
- Prisma ν΄λΌμ΄μ–ΈνΈκ°€ μƒλ΅μ΄ λ¨λΈλ“¤μ„ μΈμ‹ν•μ§€ λ»ν•¨
- μ„λ²„κ°€ μ—λ¬ μƒνƒλ΅ μ‹¤ν–‰λμ§€ μ•μ

## λ‚΄μΌ μ§„ν–‰ν•  μ‘μ—… (2024λ…„ 12μ›” 28μΌ)

### 1. μ°μ„  ν•΄κ²°ν•΄μ•Ό ν•  λ¬Έμ λ“¤

#### 1.1 Prisma ν΄λΌμ΄μ–ΈνΈ λ¬Έμ  ν•΄κ²°
```bash
# 1. ν„μ¬ μ„λ²„ μƒνƒ ν™•μΈ
pm2 status
pm2 logs basak-chicken-app --lines 50

# 2. Prisma ν΄λΌμ΄μ–ΈνΈ μ¬μƒμ„±
npx prisma generate

# 3. λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ λ™κΈ°ν™” ν™•μΈ
npx prisma db push

# 4. μ„λ²„ μ¬μ‹μ‘
pm2 restart basak-chicken-app
```

#### 1.2 API μ—”λ“ν¬μΈνΈ ν…μ¤νΈ
- `/api/employee/checklist-progress` POST μ”μ²­μ΄ μ •μƒ μ‘λ™ν•λ”μ§€ ν™•μΈ
- λΈλΌμ°μ € κ°λ°μ λ„κµ¬μ—μ„ λ„¤νΈμ›ν¬ νƒ­μΌλ΅ 500 μ—λ¬ μ›μΈ νμ•…

### 2. μ²΄ν¬λ¦¬μ¤νΈ μ„μ‹ μ €μ¥ κΈ°λ¥ μ™„μ„±

#### 2.1 μλ™ μ €μ¥ κΈ°λ¥ κ²€μ¦
- μ²΄ν¬λ°•μ¤ ν΄λ¦­ μ‹ μ¦‰μ‹ μ €μ¥λλ”μ§€ ν™•μΈ
- μ—°κ²°λ ν•­λ© μƒνƒ λ³€κ²½ μ‹ μ €μ¥λλ”μ§€ ν™•μΈ
- νμ΄μ§€ μƒλ΅κ³ μΉ¨ ν›„ μ‘μ„± λ‚΄μ©μ΄ λ³µμ›λλ”μ§€ ν™•μΈ

#### 2.2 μ‹κ°„λ€λ³„ μ κΈ μ‹μ¤ν… κ²€μ¦
- κ°™μ€ μ‹κ°„λ€μ— λ‹¤λ¥Έ μ§μ›μ΄ μ ‘κ·Όν•  λ• μ κΈ λ©”μ‹μ§€ ν‘μ‹
- μ‘μ„± μ¤‘μΈ μ²΄ν¬λ¦¬μ¤νΈ μ΄μ–΄μ„ μ‘μ„± κΈ°λ¥ μ‘λ™ ν™•μΈ

#### 2.3 UI/UX κ°μ„ 
- μλ™ μ €μ¥ μƒνƒ ν‘μ‹ (μƒλ‹¨μ— "π’Ύ μλ™ μ €μ¥λ¨" λ©”μ‹μ§€)
- μ‘μ„± μ¤‘μΈ μ²΄ν¬λ¦¬μ¤νΈ λ°κ²¬ μ‹ "μ΄μ–΄μ„ μ‘μ„±ν•μ‹κ² μµλ‹κΉ?" ν”„λ΅¬ν”„νΈ

### 3. μ¶”κ°€ κ°μ„  μ‚¬ν•­

#### 3.1 μ—λ¬ μ²λ¦¬ κ°•ν™”
- λ„¤νΈμ›ν¬ μ¤λ¥ μ‹ μ¬μ‹λ„ λ΅μ§
- μ €μ¥ μ‹¤ν¨ μ‹ μ‚¬μ©μμ—κ² μ•λ¦Ό

#### 3.2 μ„±λ¥ μµμ ν™”
- λ¶ν•„μ”ν• μ €μ¥ νΈμ¶ λ°©μ§€ (λ””λ°”μ΄μ‹±)
- λ€λ‰ λ°μ΄ν„° μ²λ¦¬ μ‹ λ°°μΉ μ €μ¥

## ν„μ¬ νμΌ μƒνƒ

### μμ •λ νμΌλ“¤
1. `prisma/schema.prisma` - μƒλ΅μ΄ λ¨λΈλ“¤ μ¶”κ°€
2. `src/app/employee/checklist/page.tsx` - μ„μ‹ μ €μ¥ κΈ°λ¥ κµ¬ν„
3. `src/app/api/employee/checklist-progress/route.ts` - μ§„ν–‰ μƒνƒ API
4. `src/app/api/employee/timeslot-status/route.ts` - μ‹κ°„λ€ μ κΈ API

### ν™•μΈν•΄μ•Ό ν•  νμΌλ“¤
1. `src/app/api/employee/checklists/route.ts` - tags κ΄€λ ¨ μ¤λ¥ μμ • ν•„μ”
2. κΈ°νƒ€ API μ—”λ“ν¬μΈνΈλ“¤μ Prisma ν΄λΌμ΄μ–ΈνΈ νΈν™μ„±

## λ””λ²„κΉ… λ…λ Ήμ–΄

```bash
# μ„λ²„ μƒνƒ ν™•μΈ
pm2 status
pm2 logs basak-chicken-app

# λ°μ΄ν„°λ² μ΄μ¤ μƒνƒ ν™•μΈ
node check-db.js

# Prisma ν΄λΌμ΄μ–ΈνΈ μ¬μƒμ„±
npx prisma generate

# λ°μ΄ν„°λ² μ΄μ¤ λ™κΈ°ν™”
npx prisma db push
```

## λ‹¤μ λ‹¨κ³„ μ°μ„ μμ„

1. **λ†’μ**: Prisma ν΄λΌμ΄μ–ΈνΈ λ¬Έμ  ν•΄κ²° λ° μ„λ²„ μ •μƒ μ‹¤ν–‰
2. **λ†’μ**: μ„μ‹ μ €μ¥ κΈ°λ¥ κΈ°λ³Έ λ™μ‘ ν™•μΈ
3. **μ¤‘κ°„**: μ‹κ°„λ€λ³„ μ κΈ μ‹μ¤ν… ν…μ¤νΈ
4. **μ¤‘κ°„**: UI/UX κ°μ„  λ° μ—λ¬ μ²λ¦¬
5. **λ‚®μ**: μ„±λ¥ μµμ ν™” λ° μ¶”κ°€ κΈ°λ¥

---

**μ°Έκ³ **: ν„μ¬ μ„λ²„κ°€ μ—λ¬ μƒνƒμ΄λ―€λ΅, λ‚΄μΌ μ²« λ²μ§Έλ΅ Prisma ν΄λΌμ΄μ–ΈνΈ λ¬Έμ λ¥Ό ν•΄κ²°ν•΄μ•Ό ν•©λ‹λ‹¤. 